const Y=(e,t)=>e===t,k=Symbol("solid-proxy"),F={equals:Y};let G=H;const y={},p=1,T=2,I={owned:null,cleanups:null,context:null,owner:null};var u=null;let w=null,f=null,b=null,c=null,a=null,v=0;function J(e,t){t&&(u=t);const s=f,n=u,i=e.length===0?I:{owned:null,cleanups:null,context:null,owner:n};u=i,f=null;let l;try{D(()=>l=e(()=>L(i)),!0)}finally{f=s,u=n}return l}function oe(e,t){t=t?Object.assign({},F,t):F;const s={value:e,observers:null,observerSlots:null,pending:y,comparator:t.equals||void 0};return[z.bind(s),n=>(typeof n=="function"&&(n=n(s.pending!==y?s.pending:s.value)),O(s,n))]}function P(e,t,s){const n=M(e,t,!1,p);B(n)}function Z(e,t,s){G=se;const n=M(e,t,!1,p);n.user=!0,a&&a.push(n)}function q(e){if(b)return e();let t;const s=b=[];try{t=e()}finally{b=null}return D(()=>{for(let n=0;n<s.length;n+=1){const i=s[n];if(i.pending!==y){const l=i.pending;i.pending=y,O(i,l)}}},!1),t}function N(e){let t,s=f;return f=null,t=e(),f=s,t}function re(e){Z(()=>N(e))}function fe(e){return u===null||(u.cleanups===null?u.cleanups=[e]:u.cleanups.push(e)),e}function z(){const e=w;if(this.sources&&(this.state||e)){const t=c;c=null,this.state===p||e?B(this):$(this),c=t}if(f){const t=this.observers?this.observers.length:0;f.sources?(f.sources.push(this),f.sourceSlots.push(t)):(f.sources=[this],f.sourceSlots=[t]),this.observers?(this.observers.push(f),this.observerSlots.push(f.sources.length-1)):(this.observers=[f],this.observerSlots=[f.sources.length-1])}return this.value}function O(e,t,s){if(e.comparator&&e.comparator(e.value,t))return t;if(b)return e.pending===y&&b.push(e),e.pending=t,t;let n=!1;return e.value=t,e.observers&&e.observers.length&&D(()=>{for(let i=0;i<e.observers.length;i+=1){const l=e.observers[i];n&&w.disposed.has(l),l.pure?c.push(l):a.push(l),l.observers&&(n&&!l.tState||!n&&!l.state)&&V(l),n||(l.state=p)}if(c.length>1e6)throw c=[],new Error},!1),t}function B(e){if(!e.fn)return;L(e);const t=u,s=f,n=v;f=u=e,ee(e,e.value,n),f=s,u=t}function ee(e,t,s){let n;try{n=e.fn(t)}catch(i){X(i)}(!e.updatedAt||e.updatedAt<=s)&&(e.observers&&e.observers.length?O(e,n):e.value=n,e.updatedAt=s)}function M(e,t,s,n=p,i){const l={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:u,context:null,pure:s};return u===null||u!==I&&(u.owned?u.owned.push(l):u.owned=[l]),l}function S(e){const t=w;if(e.state!==p)return e.state=0;if(e.suspense&&N(e.suspense.inFallback))return e.suspense.effects.push(e);const s=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<v);)(e.state||t)&&s.push(e);for(let n=s.length-1;n>=0;n--)if(e=s[n],e.state===p||t)B(e);else if(e.state===T||t){const i=c;c=null,$(e),c=i}}function D(e,t){if(c)return e();let s=!1;t||(c=[]),a?s=!0:a=[],v++;try{e()}catch(n){X(n)}finally{te(s)}}function te(e){c&&(H(c),c=null),!e&&(a.length?q(()=>{G(a),a=null}):a=null)}function H(e){for(let t=0;t<e.length;t++)S(e[t])}function se(e){let t,s=0;for(t=0;t<e.length;t++){const i=e[t];i.user?e[s++]=i:S(i)}const n=e.length;for(t=0;t<s;t++)S(e[t]);for(t=n;t<e.length;t++)S(e[t])}function $(e){e.state=0;const t=w;for(let s=0;s<e.sources.length;s+=1){const n=e.sources[s];n.sources&&(n.state===p||t?S(n):(n.state===T||t)&&$(n))}}function V(e){const t=w;for(let s=0;s<e.observers.length;s+=1){const n=e.observers[s];(!n.state||t)&&(n.state=T,n.pure?c.push(n):a.push(n),n.observers&&V(n))}}function L(e){let t;if(e.sources)for(;e.sources.length;){const s=e.sources.pop(),n=e.sourceSlots.pop(),i=s.observers;if(i&&i.length){const l=i.pop(),o=s.observerSlots.pop();n<i.length&&(l.sourceSlots[o]=n,i[n]=l,s.observerSlots[n]=o)}}if(e.owned){for(t=0;t<e.owned.length;t++)L(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function X(e){throw e}function ue(e,t){return N(()=>e(t))}function A(){return!0}const ne={get(e,t,s){return t===k?s:e.get(t)},has(e,t){return e.has(t)},set:A,deleteProperty:A,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:A,deleteProperty:A}},ownKeys(e){return e.keys()}};function U(e){return typeof e=="function"?e():e}function ce(...e){return new Proxy({get(t){for(let s=e.length-1;s>=0;s--){const n=U(e[s])[t];if(n!==void 0)return n}},has(t){for(let s=e.length-1;s>=0;s--)if(t in U(e[s]))return!0;return!1},keys(){const t=[];for(let s=0;s<e.length;s++)t.push(...Object.keys(U(e[s])));return[...new Set(t)]}},ne)}function _(e,t,s){let n=s.length,i=t.length,l=n,o=0,r=0,x=t[i-1].nextSibling,g=null;for(;o<i||r<l;){if(t[o]===s[r]){o++,r++;continue}for(;t[i-1]===s[l-1];)i--,l--;if(i===o){const h=l<n?r?s[r-1].nextSibling:s[l-r]:x;for(;r<l;)e.insertBefore(s[r++],h)}else if(l===r)for(;o<i;)(!g||!g.has(t[o]))&&e.removeChild(t[o]),o++;else if(t[o]===s[l-1]&&s[r]===t[i-1]){const h=t[--i].nextSibling;e.insertBefore(s[r++],t[o++].nextSibling),e.insertBefore(s[--l],h),t[i]=s[l]}else{if(!g){g=new Map;let d=r;for(;d<l;)g.set(s[d],d++)}const h=g.get(t[o]);if(h!=null)if(r<h&&h<l){let d=o,m=1,R;for(;++d<i&&d<l&&!((R=g.get(t[d]))==null||R!==h+m);)m++;if(m>h-r){const W=t[o];for(;r<h;)e.insertBefore(s[r++],W)}else e.replaceChild(s[r++],t[o++])}else o++;else e.removeChild(t[o++])}}}const K="_$DX_DELEGATE";function he(e,t,s){let n;return J(i=>{n=i,ie(t,e(),t.firstChild?null:void 0,s)}),()=>{n(),t.textContent=""}}function ae(e,t,s){const n=document.createElement("template");n.innerHTML=e;let i=n.content.firstChild;return s&&(i=i.firstChild),i}function pe(e,t=window.document){const s=t[K]||(t[K]=new Set);for(let n=0,i=e.length;n<i;n++){const l=e[n];s.has(l)||(s.add(l),t.addEventListener(l,le))}}function ge(e,t,s){s==null?e.removeAttribute(t):e.setAttribute(t,s)}function ie(e,t,s,n){if(s!==void 0&&!n&&(n=[]),typeof t!="function")return E(e,t,n,s);P(i=>E(e,t(),i,s),n)}function le(e){const t=`$$${e.type}`;let s=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==s&&Object.defineProperty(e,"target",{configurable:!0,value:s}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return s}});s!==null;){const n=s[t];if(n&&!s.disabled){const i=s[`${t}Data`];if(i!==void 0?n(i,e):n(e),e.cancelBubble)return}s=s.host&&s.host!==s&&s.host instanceof Node?s.host:s.parentNode}}function E(e,t,s,n,i){for(;typeof s=="function";)s=s();if(t===s)return s;const l=typeof t,o=n!==void 0;if(e=o&&s[0]&&s[0].parentNode||e,l==="string"||l==="number")if(l==="number"&&(t=t.toString()),o){let r=s[0];r&&r.nodeType===3?r.data=t:r=document.createTextNode(t),s=C(e,s,n,r)}else s!==""&&typeof s=="string"?s=e.firstChild.data=t:s=e.textContent=t;else if(t==null||l==="boolean")s=C(e,s,n);else{if(l==="function")return P(()=>{let r=t();for(;typeof r=="function";)r=r();s=E(e,r,s,n)}),()=>s;if(Array.isArray(t)){const r=[];if(j(r,t,i))return P(()=>s=E(e,r,s,n,!0)),()=>s;if(r.length===0){if(s=C(e,s,n),o)return s}else Array.isArray(s)?s.length===0?Q(e,r,n):_(e,s,r):s==null||s===""?Q(e,r):_(e,o&&s||[e.firstChild],r);s=r}else if(t instanceof Node){if(Array.isArray(s)){if(o)return s=C(e,s,n,t);C(e,s,null,t)}else s==null||s===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);s=t}}return s}function j(e,t,s){let n=!1;for(let i=0,l=t.length;i<l;i++){let o=t[i],r;if(o instanceof Node)e.push(o);else if(!(o==null||o===!0||o===!1))if(Array.isArray(o))n=j(e,o)||n;else if((r=typeof o)==="string")e.push(document.createTextNode(o));else if(r==="function")if(s){for(;typeof o=="function";)o=o();n=j(e,Array.isArray(o)?o:[o])||n}else e.push(o),n=!0;else e.push(document.createTextNode(o.toString()))}return n}function Q(e,t,s){for(let n=0,i=t.length;n<i;n++)e.insertBefore(t[n],s)}function C(e,t,s,n){if(s===void 0)return e.textContent="";const i=n||document.createTextNode("");if(t.length){let l=!1;for(let o=t.length-1;o>=0;o--){const r=t[o];if(i!==r){const x=r.parentNode===e;!l&&!o?x?e.replaceChild(i,r):e.insertBefore(i,s):x&&e.removeChild(r)}else l=!0}}else e.insertBefore(i,s);return[i]}export{Z as a,P as b,oe as c,pe as d,ue as e,fe as f,ie as i,ce as m,re as o,he as r,ge as s,ae as t};
